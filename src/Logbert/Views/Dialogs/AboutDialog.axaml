<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="using:Couchcoding.Logbert.ViewModels.Dialogs"
        mc:Ignorable="d" d:DesignWidth="500" d:DesignHeight="600"
        x:Class="Couchcoding.Logbert.Views.Dialogs.AboutDialog"
        x:DataType="vm:AboutDialogViewModel"
        Title="About Logbert"
        Width="500" Height="600"
        CanResize="False"
        WindowStartupLocation="CenterOwner"
        Icon="/Assets/avalonia-logo.ico">

    <Design.DataContext>
        <vm:AboutDialogViewModel/>
    </Design.DataContext>

    <DockPanel Margin="20">
        <!-- Header with Icon and Title -->
        <StackPanel DockPanel.Dock="Top" Spacing="10" Margin="0,0,0,20">
            <Image Source="/Assets/avalonia-logo.ico"
                   Width="64" Height="64"
                   HorizontalAlignment="Center"/>

            <TextBlock Text="{Binding ApplicationName}"
                       FontSize="24"
                       FontWeight="Bold"
                       HorizontalAlignment="Center"/>

            <TextBlock Text="{Binding Version}"
                       FontSize="14"
                       HorizontalAlignment="Center"
                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>

            <TextBlock Text="{Binding Copyright}"
                       FontSize="12"
                       HorizontalAlignment="Center"
                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>

            <TextBlock Text="{Binding Description}"
                       FontSize="12"
                       HorizontalAlignment="Center"
                       TextWrapping="Wrap"
                       Margin="0,10,0,0"
                       MaxWidth="400"/>
        </StackPanel>

        <!-- Close Button -->
        <Button DockPanel.Dock="Bottom"
                Content="Close"
                HorizontalAlignment="Center"
                Padding="40,8"
                Margin="0,20,0,0"
                Click="OnCloseClick"
                IsDefault="True"/>

        <!-- License Text -->
        <Border BorderBrush="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"
                BorderThickness="1"
                CornerRadius="4"
                Padding="10">
            <ScrollViewer>
                <StackPanel Spacing="10">
                    <TextBlock Text="License"
                               FontWeight="Bold"
                               FontSize="14"/>

                    <TextBlock Text="{Binding LicenseText}"
                               TextWrapping="Wrap"
                               FontFamily="Consolas,Courier New,monospace"
                               FontSize="10"/>

                    <Separator Margin="0,10"/>

                    <TextBlock Text="Third-Party Components"
                               FontWeight="Bold"
                               FontSize="14"/>

                    <StackPanel Spacing="4">
                        <TextBlock>
                            <Run Text="• " FontWeight="Bold"/>
                            <Run Text="Avalonia UI" FontWeight="Bold"/>
                            <Run Text=" - MIT License"/>
                        </TextBlock>
                        <TextBlock>
                            <Run Text="• " FontWeight="Bold"/>
                            <Run Text="Dock.Avalonia" FontWeight="Bold"/>
                            <Run Text=" - MIT License"/>
                        </TextBlock>
                        <TextBlock>
                            <Run Text="• " FontWeight="Bold"/>
                            <Run Text="AvaloniaEdit" FontWeight="Bold"/>
                            <Run Text=" - MIT License"/>
                        </TextBlock>
                        <TextBlock>
                            <Run Text="• " FontWeight="Bold"/>
                            <Run Text="MoonSharp" FontWeight="Bold"/>
                            <Run Text=" - BSD License"/>
                        </TextBlock>
                        <TextBlock>
                            <Run Text="• " FontWeight="Bold"/>
                            <Run Text="CommunityToolkit.Mvvm" FontWeight="Bold"/>
                            <Run Text=" - MIT License"/>
                        </TextBlock>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </DockPanel>
</Window>
